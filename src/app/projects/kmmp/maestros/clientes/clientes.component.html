<!-- Drawer content -->
<div class="flex-auto">
  <div class="flex flex-col flex-auto min-w-0">
    <!-- Header -->
    <div
      class="
        flex flex-row
        sm:flex-col
        flex-0
        sm:items-center sm:justify-between
        p-6
        sm:py-8 sm:px-10
        border-b
        bg-card
        dark:bg-transparent
      "
    >
      <div
        class="
          flex flex-col
          sm:flex-row
          w-full
          justify-between
          items-center
          min-w-0
        "
      >
        <!-- Loader -->
        <div class="absolute inset-x-0 top-0" *ngIf="isLoading">
          <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
        </div>
        <!-- Title -->
        <div class="w-1/4">
          <h2
            class="
              text-3xl
              md:text-4xl
              font-extrabold
              tracking-tight
              leading-7
              sm:leading-10
            "
          >
            Clientes
          </h2>
        </div>
        <div class="flex w-2/4 justify-end master-filter gap-5">
          <!-- <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript min-w-50">
            <mat-icon
              matPrefix
              [svgIcon]="'heroicons_outline:search'"
            ></mat-icon>
            <input
              matInput
              [formControl]="searchInputControl"
              [autocomplete]="'off'"
              [placeholder]="'Search products'"
            />
          </mat-form-field>
          <button mat-raised-button [color]="'secondary'">
            <mat-icon
              [svgIcon]="'heroicons_outline:document-download'"
            ></mat-icon>
            <span class="ml-2 mr-1">Exportar</span>
          </button>-->
          <app-inner-header
            [type]="'clientes'"
            (isLoading)="setLoading($event)"
          ></app-inner-header>
        </div>
      </div>
    </div>

    <!-- Main -->
    <div class="flex flex-auto w-full overflow-hidden">
      <!-- Usuarios list -->
      <div
        class="
          flex flex-col flex-auto
          overflow-hidden
          sm:overflow-y-auto
          bg-white
        "
      >
        <ng-container *ngIf="clientes$ | async as clientes">
          <ng-container *ngIf="clientes.length > 0; else empty">
            <div class="grid overflow-x-auto cont-scroll-y">
              <!-- Header -->
              <div
                class="
                  inventory-grid
                  z-10
                  sticky
                  top-0
                  grid
                  gap-4
                  py-4
                  px-6
                  md:px-8
                  shadow
                  text-md
                  font-semibold
                  text-secondary
                  bg-gray-50
                  dark:bg-black dark:bg-opacity-5
                  justify-between
                "
                matSort
                matSortDisableClear
              >
                <div>Nombre</div>
                <div class="">RUC</div>
                <div class="">Razón social</div>
                <div class="">Ubicación</div>
                <div class="">Estado</div>
                <div>Acciones</div>
              </div>

              <!-- Rows -->
              <ng-container *ngIf="clientes$ | async as clientes">
                <ng-container
                  *ngFor="let cliente of clientes; trackBy: trackByFn"
                >
                  <div
                    class="
                      inventory-grid
                      grid
                      items-center
                      gap-4
                      py-3
                      px-6
                      md:px-8
                      border-b
                      justify-between
                    "
                  >
                    <!-- Usuario -->
                    <div class="truncate">
                      {{ cliente.nombre }}
                    </div>
                    <!-- Nombres -->
                    <div class="truncate">
                      {{ cliente.ruc }}
                    </div>
                    <!-- Apellidos -->
                    <div class="truncate">
                      {{ cliente?.razon }}
                    </div>
                    <div class="truncate">
                      {{ cliente?.ubicacion }}
                    </div>
                    <div class="">
                      {{ cliente?.nestado }}
                    </div>

                    <!-- Acciones -->
                    <div>
                      <a
                        class="min-w-7 w-7 min-h-7 h-7 mr-1"
                        mat-icon-button
                        matTooltip="Editar"
                        (click)="edit(cliente)"
                      >
                        <mat-icon
                          class="icon-size-5 text-primary-500"
                          [svgIcon]="'heroicons_outline:pencil'"
                        ></mat-icon>
                      </a>
                    </div>
                  </div>
                </ng-container>
              </ng-container>
            </div>
            <mat-paginator
              class="
                sm:inset-x-0 sm:bottom-0
                border-b
                sm:border-t sm:border-b-0
                z-10
                bg-gray-50
                dark:bg-transparent
              "
              [ngClass]="{ 'pointer-events-none': isLoading }"
              [length]="(pagination$ | async).length"
              [pageIndex]="(pagination$ | async).page"
              [pageSize]="(pagination$ | async)?.size || 10"
              [pageSizeOptions]="[5, 10, 25, 100]"
              [showFirstLastButtons]="true"
              (page)="changePage($event)"
            ></mat-paginator>
            <div
              class="
                absolute
                flex flex-0
                items-center
                justify-end
                h-16
                px-4
                bottom-0
                z-49
                right-0
                dark:bg-transparent
                print:hidden
              "
            >
              <span class="font-medium text-secondary">
                <a mat-button color="primary" (click)="createClient()">
                  <mat-icon [svgIcon]="'heroicons_solid:plus'"></mat-icon>
                  Nuevo Cliente
                </a>
              </span>
            </div>
          </ng-container>
        </ng-container>
      </div>
    </div>
  </div>
</div>
